<!DOCTYPE html>
<html lang="HU"
      layout:decorate="~{layouts/layout_main}">
<head>
  <title>Bejelentkezés</title>
  <style>
    table, td, th {
      width: 30vw;
      border: 0;
      text-align: center;
      vertical-align: top;
    }
  </style>
</head>
<body>
  <div layout:fragment="content" class="card col-lg-9 mx-auto my-5">
    <h3 class="text-center my-3">Profilom</h3>
    <table class="mx-auto">
      <thead>
      <th scope="col">Felhasználónév</th>
      <th scope="col">E-mail cím</th>
      <th scope="col">Jelszó</th>
      </thead>
      <tbody>
      <tr>
        <td>
          <form th:object="${user}" th:action="@{/profile/modifyName}" method="GET">
            <label for="username" class="d-inline" style="font-size: 18px;">Új felhasználónév:</label>
            <input th:field="*{username}" type="text" name="username" id="username"
                   class="d-inline mb-2 form-control" min="4" max="100" maxlength="100" style="width: min-content; text-align:center; margin: auto;">
            <input type="submit" class="btn btn-success mb-3 p-2" value="Felhasználónevem megváltoztatása"/>
          </form>
          <label th:text="'Jelenleg: '+${user.username}"></label>
        </td>
        <td class="text-center">
          <form th:object="${user}" th:action="@{/profile/modifyMail}" method="GET">
            <label for="email" class="d-inline" style="font-size: 18px;">Új e-mail cím:</label>
            <input th:field="*{email}" type="text" id="email" name="email" class="d-inline mb-3 form-control"
                   min="4" max="100" maxlength="100" style="width: min-content; text-align:center; margin: auto;">
            <input type="submit" class="btn btn-success mb-3 p-2" value="E-mail címem megváltoztatása"/>
          </form>
          <p th:text="'Jelenleg: '+${user.email}"></p>
        </td>
        <td>
          <form th:action="@{/profile/modifyPasswd}" method="POST">
            <label for="newpasswd" class="d-inline" style="font-size: 18px;">Új jelszó:</label>
            <input type="password" name="newpasswd" id="newpasswd"
                   class="d-inline mb-3 form-control" style="width: min-content;"
                   minlength="4" maxlength="40"
                   placeholder="Új jelszó">
            <input type="submit" class="btn btn-warning d-inline font-weight-bold mb-3 p-2" value="Jelszavam megváltoztatása">
          </form>
        </td>
        </tr>
      <tr>
        <td></td>
        <td class="text-center">
          <form th:object="${user}" th:action="@{/profile/delete}" method="GET">
            <input type="submit" class="btn btn-danger p-1" value="Fiókom törlése" onclick="confirm('Biztosan le szeretnéd tiltani a saját fiókodat?')"/>
          </form>
        </td>
        <td></td>
      </tr>
      </tbody>
    </table>
    </div>
</body>
</html>